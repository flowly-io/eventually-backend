type Checkpoint {
  description: String!
  done: Boolean!
}

type CapabilityInstance {
  _id: ID!
  name: String!
  description: String
  checkpoints: [Checkpoint]
}

type Event {
  _id: ID!
  name: String!
  organisers: [User]
  audiences: [UserType]
  maxCapacity: Int
  capabilities: [CapabilityInstance]
  startDateTime: String
  endDateTime: String
}

input EventInput {
  name: String!
  maxCapacity: Int
  startDateTime: String
  endDateTime: String
}

extend type Query {
  event(eventId: ID!): Event
  events: [Event]
  eventsByUser(userId: ID!): [Event]
}

extend type Mutation {
  createEvent(event: EventInput!): Event
  deleteEvent(eventId: ID!): Int
  setOrganisers(eventId: ID!, organiserIds: [ID!]!): Event
  setAudiences(eventId: ID!, audiences: [UserType!]!): Event
  addCapability(eventId: ID!, capabilityId: ID!): Event
  removeCapability(eventId: ID!, capabilityInstanceId: ID!): Event
}
